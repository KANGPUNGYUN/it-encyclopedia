# 자바스크립트 딥다이브 개념 발표

## 06. 타입 변환과 단축 평가

### 6.1 타입 변환

- 정의 : 값의 타입은 개발자의 의도 혹은 의도와 관계없이 변할 수 있다.

  - 명시적 타입 변환 / 타입 캐스팅

    - 개발자가 의도를 가지고 타입을 변경하는 경우

      ```jsx
      const x = 10;

      const numToStr = x.toString();
      // 의도적으로 숫자 -> 문자
      ```

  - 암묵적 타입 변환 / 타입 강제 변환
    - 개발자의 의도와 상관없이 타입이 변경되는 경우

### 6.2 암묵적 타입 변환

- 문자열 타입으로 변환

  - 조건 : + 연산자 & 피연산자 중 문자열

    ```jsx
    const x = 10;

    const numToStr = x + "";
    ```

- 숫자 타입으로 변환
  - 조건 : 코드 문맥상 타입이 숫자고 산술연산자가 있어야한다.
    ```jsx
    1 - "1"; // 0
    ```
- 불리언 타입으로 변환
  - 불리언 타입이 아닌 값을 Truthy(참으로 평가되는 값) 또는 Falsy(거짓으로 평가되는 값) 으로 구분
      <aside>
      ❗ 여기서 truthy 와 falsy 는 true 와 false 가 아닙니다! 단지 결과값이 truthy/Falsy 라면 그 결과값을 true/false 로 형 변환해줄 뿐입니다.
      
      </aside>

### 6.3 명시적 타입 변환

- 문자열 타입으로 변환
  - String 생성자 함수를 new 연산자 없이 호출
    ```jsx
    String(1);
    ```
  - Object.prototype.toString 메서드 사용
    ```jsx
    (1).toString();
    ```
  - 문자열 연결 연산자 사용
    ```jsx
    1 + "1";
    ```
- 숫자 타입으로 변환

  - Number 생성자 함수를 new 연산자 없이 호출
    ```jsx
    Number(1);
    ```
  - parseInt , parseFloat 함수 사용
    ```jsx
    parseInt("0");
    ```
  - - 단항 산술 연산자 사용

      ```jsx
      +"1";
      ```

  - - 산술 연산자 사용

      ```jsx
      "0" * 1;
      ```

- 불리언 타입으로 변환
  - Boolean 생성자 함수를 new 연산자 없이 호출
    ```jsx
    Boolean("x");
    Boolean(1);
    ```
  - 부정 논리 연산자를 두번 사용
    ```jsx
    !!"x";
    !!0;
    ```

### 6.4 단축 평가

- 정의 : 논리 연산의 결과를 결정하는 피연산자를 타입 변환하지 않고 그대로 반환하는 것
- 논리 연산자를 사용한 단축 평가 ( `||` , `&&` )

  - 논리합 / 논리곱

    - 논리합( || ) : 두 개의 피연산자 중 하나만 true로 평가되어도 true를 반환하며, 좌항에서 우항으로 평가
    - 논리곱 ( && ) : 두 개의 피연산자가 모두 true로 평가될 때 true를 반환하며, 좌항에서 우항으로 평가
      <aside>
      ❓ 논리곱을 사용하여, 객체를 가리키기를 기대하는 변수가 null 또는 undefined가 아닌지 확인하고 프로퍼티를 참조할 때

      ```jsx
      const elem = null;
      const value = elem && elem.value;
      ```

      </aside>

- 옵셔널 체이닝 연산자 ( `?.` )

  - 정의 : 좌항의 피연산자가 `null` 또는 `undefined`인 경우 `undefined`를 반환하고, 그렇지 않으면 우항의 프로퍼티 참조
      <aside>
      ❓ 옵셔널 체이닝을 사용하여, 객체를 가리키기를 기대하는 변수가 null 또는 undefined가 아닌지 확인하고 프로퍼티를 참조할 때
      
      ```jsx
      const elem = null;
      const value = elem?.value;
      ```
      
      </aside>

- null 병합 연산자 ( `??` )
  - 정의 : 좌항의 피연산자가 `null` 또는 `undefined`인 경우 우항의 피연산자를 반환하고, 그렇지 않으면 좌항의 피연산자를 반환
  - 기본값을 설정할때 유용
    - `||` 연산자를 사용할때, 문제점 ( 가정 - Falsy 값인 `0`이나 `''`도 기본값으로서 유효할 경우 )
      ```jsx
      var foo = "" || "default string";
      // 우측항 반환
      var foo = "" && "default string";
      // && 연산자 사용할 경우, 좌측항 반환
      ```

<br>
